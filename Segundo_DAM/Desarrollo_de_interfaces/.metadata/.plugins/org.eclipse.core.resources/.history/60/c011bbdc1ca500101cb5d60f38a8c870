package boletin_2_ejercicio_2;

import java.awt.EventQueue;
import javax.swing.JFrame;
import javax.swing.JRadioButton;
import javax.swing.JComboBox;
import javax.swing.JButton;
import javax.swing.JLabel;
import javax.swing.ButtonGroup;
import javax.swing.DefaultComboBoxModel;
import java.awt.event.ActionListener;
import java.awt.event.ActionEvent;
import java.awt.Font;

public class Ejercicio_2 {

    private JFrame frame;
    private JRadioButton radio1;
    private JRadioButton radio2;
    private JRadioButton radio3;
    private JComboBox<String> comboEuros;
    private JComboBox<String> comboCentimos;
    private JLabel lblResultado;
    private final ButtonGroup buttonGroup = new ButtonGroup();

    /**
     * Launch the application.
     */
    public static void main(String[] args) {
        EventQueue.invokeLater(new Runnable() {
            public void run() {
                try {
                    Ejercicio_2 window = new Ejercicio_2();
                    window.frame.setVisible(true);
                } catch (Exception e) {
                    e.printStackTrace();
                }
            }
        });
    }

    /**
     * Create the application.
     */
    public Ejercicio_2() {
        initialize();
    }

    /**
     * Initialize the contents of the frame.
     */
    private void initialize() {
        frame = new JFrame();
        frame.setBounds(100, 100, 400, 450);
        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        frame.getContentPane().setLayout(null);
        frame.setTitle("Máquina Expendedora");

        // JLabel título
        JLabel lblTitulo = new JLabel("Seleccione una bebida:");
        lblTitulo.setFont(new Font("Tahoma", Font.BOLD, 14));
        lblTitulo.setBounds(30, 20, 200, 25);
        frame.getContentPane().add(lblTitulo);

        // Radio Button 1 - Bebida A (0.80 euros)
        radio1 = new JRadioButton("Bebida A - 0.80 €");
        radio1.setSelected(true);
        radio1.setFont(new Font("Tahoma", Font.PLAIN, 12));
        buttonGroup.add(radio1);
        radio1.setBounds(50, 60, 200, 30);
        frame.getContentPane().add(radio1);

        // Radio Button 2 - Bebida B (1.20 euros)
        radio2 = new JRadioButton("Bebida B - 1.20 €");
        radio2.setFont(new Font("Tahoma", Font.PLAIN, 12));
        buttonGroup.add(radio2);
        radio2.setBounds(50, 100, 200, 30);
        frame.getContentPane().add(radio2);

        // Radio Button 3 - Bebida C (3.10 euros)
        radio3 = new JRadioButton("Bebida C - 3.10 €");
        radio3.setFont(new Font("Tahoma", Font.PLAIN, 12));
        buttonGroup.add(radio3);
        radio3.setBounds(50, 140, 200, 30);
        frame.getContentPane().add(radio3);

        // Label para Euros
        JLabel lblEuros = new JLabel("Euros:");
        lblEuros.setFont(new Font("Tahoma", Font.PLAIN, 12));
        lblEuros.setBounds(50, 200, 80, 25);
        frame.getContentPane().add(lblEuros);

        // ComboBox para Euros
        comboEuros = new JComboBox<String>();
        comboEuros.setModel(new DefaultComboBoxModel<String>(new String[] {"0", "1", "2", "3", "4", "5"}));
        comboEuros.setFont(new Font("Tahoma", Font.PLAIN, 12));
        comboEuros.setBounds(140, 200, 80, 25);
        frame.getContentPane().add(comboEuros);

        // Label para Céntimos
        JLabel lblCentimos = new JLabel("Céntimos:");
        lblCentimos.setFont(new Font("Tahoma", Font.PLAIN, 12));
        lblCentimos.setBounds(50, 240, 80, 25);
        frame.getContentPane().add(lblCentimos);

        // ComboBox para Céntimos
        comboCentimos = new JComboBox<String>();
        comboCentimos.setModel(new DefaultComboBoxModel<String>(new String[] {"0", "10", "20", "30", "40", "50", "60", "70", "80", "90"}));
        comboCentimos.setFont(new Font("Tahoma", Font.PLAIN, 12));
        comboCentimos.setBounds(140, 240, 80, 25);
        frame.getContentPane().add(comboCentimos);

        // Botón Extraer
        JButton btnExtraer = new JButton("Extraer");
        btnExtraer.setFont(new Font("Tahoma", Font.BOLD, 14));
        btnExtraer.addActionListener(new ActionListener() {
            public void actionPerformed(ActionEvent e) {
                procesarExtraccion();
            }
        });
        btnExtraer.setBounds(50, 290, 170, 35);
        frame.getContentPane().add(btnExtraer);

        // Label de Resultado
        JLabel lblTextoResultado = new JLabel("Resultado:");
        lblTextoResultado.setFont(new Font("Tahoma", Font.BOLD, 12));
        lblTextoResultado.setBounds(50, 345, 80, 25);
        frame.getContentPane().add(lblTextoResultado);

        lblResultado = new JLabel("");
        lblResultado.setFont(new Font("Tahoma", Font.BOLD, 16));
        lblResultado.setBounds(140, 345, 200, 25);
        frame.getContentPane().add(lblResultado);
    }

    /**
     * Método que procesa la extracción de la bebida
     */
    private void procesarExtraccion() {
        // Obtener el dinero ingresado
        int euros = Integer.parseInt((String) comboEuros.getSelectedItem());
        int centimos = Integer.parseInt((String) comboCentimos.getSelectedItem());
        
        // Convertir todo a céntimos para facilitar la comparación
        int totalCentimos = (euros * 100) + centimos;
        
        // Determinar qué bebida está seleccionada y su precio
        int precioBebida = 0;
        
        if (radio1.isSelected()) {
            // Bebida A: 0.80 euros = 80 céntimos
            precioBebida = 80;
        } else if (radio2.isSelected()) {
            // Bebida B: 1.20 euros = 120 céntimos
            precioBebida = 120;
        } else if (radio3.isSelected()) {
            // Bebida C: 3.10 euros = 310 céntimos
            precioBebida = 310;
        }
        
        // Comparar y mostrar resultado
        if (totalCentimos >= precioBebida) {
            lblResultado.setText("Correcto");
        } else {
            lblResultado.setText("Incorrecto");
        }
    }
}